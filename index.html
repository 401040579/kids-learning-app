<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#FF69B4">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" href="icons/icon-192.svg">
  <title>宝贝学习乐园</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <!-- 星星/彩带飘落效果容器 -->
  <div id="particles"></div>

  <!-- 奖励弹窗 -->
  <div id="reward-popup" class="reward-popup hidden">
    <div class="reward-content">
      <div class="reward-stars">⭐⭐⭐</div>
      <h2 class="reward-title">太棒了!</h2>
      <p class="reward-message">你获得了 <span id="reward-points">10</span> 分!</p>
      <div class="reward-animation"></div>
      <button class="btn-continue" onclick="closeReward()">继续学习</button>
    </div>
  </div>

  <!-- 视频播放器弹窗 -->
  <div id="video-modal" class="video-modal hidden">
    <div class="video-container">
      <button class="video-close" onclick="closeVideo()">✕</button>
      <div id="video-player"></div>
      <div id="video-overlay" class="video-overlay hidden">
        <div class="overlay-content">
          <span class="overlay-emoji">🌟</span>
          <p>视频看完啦!</p>
          <button class="btn-primary" onclick="closeVideo()">返回</button>
        </div>
      </div>
    </div>
  </div>

  <!-- 主应用 -->
  <div id="app">
    <!-- 顶部状态栏 -->
    <header class="header">
      <div class="header-left">
        <span class="app-title">🌈 学习乐园</span>
      </div>
      <div class="header-right">
        <div class="score-display">
          <span class="star-icon">⭐</span>
          <span id="total-score">0</span>
        </div>
      </div>
    </header>

    <!-- 页面内容区 -->
    <main id="main-content">
      <!-- 首页 -->
      <section id="page-home" class="page active">
        <div class="welcome-section">
          <h1 class="welcome-title">
            <span class="wave">👋</span> 欢迎小朋友!
          </h1>
          <p class="welcome-subtitle">今天想学什么呢?</p>
        </div>

        <div class="menu-grid">
          <div class="menu-card card-explore" onclick="navigateTo('explore')">
            <div class="card-icon">🎬</div>
            <div class="card-title">探索视频</div>
            <div class="card-desc">看有趣的视频</div>
          </div>

          <div class="menu-card card-math" onclick="navigateTo('math')">
            <div class="card-icon">🔢</div>
            <div class="card-title">数学游戏</div>
            <div class="card-desc">加减法挑战</div>
          </div>

          <div class="menu-card card-english" onclick="navigateTo('english')">
            <div class="card-icon">🔤</div>
            <div class="card-title">学英语</div>
            <div class="card-desc">字母和单词</div>
          </div>

          <div class="menu-card card-chinese" onclick="navigateTo('chinese')">
            <div class="card-icon">📝</div>
            <div class="card-title">学中文</div>
            <div class="card-desc">认字和拼音</div>
          </div>
        </div>

        <div class="daily-progress">
          <h3>今日进度</h3>
          <div class="progress-bar">
            <div id="progress-fill" class="progress-fill" style="width: 0%"></div>
          </div>
          <p class="progress-text">完成 <span id="tasks-done">0</span>/10 个任务解锁奖励视频!</p>
        </div>
      </section>

      <!-- 探索视频页 -->
      <section id="page-explore" class="page">
        <div class="page-header">
          <button class="btn-back" onclick="navigateTo('home')">← 返回</button>
          <h2>🎬 探索视频</h2>
        </div>

        <!-- 分类标签 -->
        <div class="category-tabs" id="category-tabs">
          <button class="category-tab active" data-category="all" onclick="filterVideos('all')">
            <span class="tab-icon">📚</span>
            <span class="tab-name">全部</span>
          </button>
          <button class="category-tab" data-category="math" onclick="filterVideos('math')">
            <span class="tab-icon">🔢</span>
            <span class="tab-name">数学</span>
          </button>
          <button class="category-tab" data-category="english" onclick="filterVideos('english')">
            <span class="tab-icon">🔤</span>
            <span class="tab-name">英语</span>
          </button>
          <button class="category-tab" data-category="science" onclick="filterVideos('science')">
            <span class="tab-icon">🔬</span>
            <span class="tab-name">科普</span>
          </button>
          <button class="category-tab" data-category="emotion" onclick="filterVideos('emotion')">
            <span class="tab-icon">💝</span>
            <span class="tab-name">情绪</span>
          </button>
          <button class="category-tab" data-category="brain" onclick="filterVideos('brain')">
            <span class="tab-icon">🧠</span>
            <span class="tab-name">脑力</span>
          </button>
          <button class="category-tab" data-category="music" onclick="filterVideos('music')">
            <span class="tab-icon">🎵</span>
            <span class="tab-name">音乐</span>
          </button>
        </div>

        <!-- 当前分类描述 -->
        <div class="category-info" id="category-info">
          <p class="category-desc">精选30个适合6岁儿童的优质视频</p>
        </div>

        <!-- 视频网格 -->
        <div class="video-grid" id="video-grid">
          <!-- 默认加载状态 -->
          <div class="video-loading">
            <span class="loading-icon">🎬</span>
            <p>加载中...</p>
          </div>
        </div>
      </section>

      <!-- 视频详情弹窗 -->
      <div id="video-detail-modal" class="video-detail-modal hidden">
        <div class="video-detail-content">
          <button class="video-detail-close" onclick="closeVideoDetail()">✕</button>
          <div class="video-detail-header">
            <span class="video-detail-icon" id="detail-icon">🎬</span>
            <div class="video-detail-title-area">
              <h3 id="detail-title">视频标题</h3>
              <p id="detail-title-zh" class="detail-title-zh">中文标题</p>
            </div>
          </div>
          <div class="video-detail-meta">
            <span class="meta-tag" id="detail-duration">⏱️ 5:00</span>
            <span class="meta-tag" id="detail-channel">📺 频道</span>
            <span class="meta-tag" id="detail-age">👶 5-7岁</span>
          </div>
          <div class="video-detail-section">
            <h4>📖 简介</h4>
            <p id="detail-desc">视频描述</p>
          </div>
          <div class="video-detail-section">
            <h4>✅ 为什么推荐</h4>
            <p id="detail-why">推荐理由</p>
          </div>
          <div class="video-detail-section">
            <h4>🎯 技能培养</h4>
            <div class="skill-tags" id="detail-skills">
              <!-- 技能标签由 JS 生成 -->
            </div>
          </div>
          <div class="video-detail-section parent-tip">
            <h4>💡 家长贴士</h4>
            <p id="detail-parent-tip">给家长的建议</p>
          </div>
          <button class="btn-play-video" id="btn-play-detail" onclick="playVideoFromDetail()">
            ▶️ 播放视频
          </button>
        </div>
      </div>

      <!-- 数学游戏页 -->
      <section id="page-math" class="page">
        <div class="page-header">
          <button class="btn-back" onclick="navigateTo('home')">← 返回</button>
          <h2>🔢 数学游戏</h2>
        </div>
        <div class="game-area">
          <div class="math-question">
            <span id="num1">3</span>
            <span id="operator">+</span>
            <span id="num2">2</span>
            <span>=</span>
            <span class="answer-box">?</span>
          </div>
          <div class="answer-options" id="math-options">
            <!-- 动态生成选项 -->
          </div>
          <div class="math-stats">
            <span>正确: <span id="math-correct">0</span></span>
            <span>连续答对: <span id="math-streak">0</span> 🔥</span>
          </div>
        </div>
      </section>

      <!-- 英语学习页 -->
      <section id="page-english" class="page">
        <div class="page-header">
          <button class="btn-back" onclick="navigateTo('home')">← 返回</button>
          <h2>🔤 学英语</h2>
        </div>
        <div class="game-area">
          <div class="word-display">
            <div class="word-image" id="english-image">🍎</div>
            <div class="word-text" id="english-word">Apple</div>
            <button class="btn-sound" onclick="speakWord()">🔊 听发音</button>
          </div>
          <p class="question-text">这是什么?</p>
          <div class="answer-options" id="english-options">
            <!-- 动态生成选项 -->
          </div>
        </div>
      </section>

      <!-- 中文学习页 -->
      <section id="page-chinese" class="page">
        <div class="page-header">
          <button class="btn-back" onclick="navigateTo('home')">← 返回</button>
          <h2>📝 学中文</h2>
        </div>
        <div class="game-area">
          <div class="character-display">
            <div class="big-character" id="chinese-char">大</div>
            <div class="pinyin" id="chinese-pinyin">dà</div>
          </div>
          <p class="question-text">选择正确的意思:</p>
          <div class="answer-options" id="chinese-options">
            <!-- 动态生成选项 -->
          </div>
        </div>
      </section>
    </main>

    <!-- 底部导航 -->
    <nav class="bottom-nav">
      <div class="nav-item active" onclick="navigateTo('home')">
        <span class="nav-icon">🏠</span>
        <span class="nav-label">首页</span>
      </div>
      <div class="nav-item" onclick="navigateTo('explore')">
        <span class="nav-icon">🎬</span>
        <span class="nav-label">视频</span>
      </div>
      <div class="nav-item" onclick="navigateTo('math')">
        <span class="nav-icon">🔢</span>
        <span class="nav-label">数学</span>
      </div>
      <div class="nav-item" onclick="navigateTo('english')">
        <span class="nav-icon">🔤</span>
        <span class="nav-label">英语</span>
      </div>
      <div class="nav-item" onclick="navigateTo('chinese')">
        <span class="nav-icon">📝</span>
        <span class="nav-label">中文</span>
      </div>
    </nav>
  </div>

  <script src="js/rewards.js"></script>
  <script src="js/videos.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
