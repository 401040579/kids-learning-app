# 宝贝学习乐园 - 产品需求文档 (PRD)

**版本**: v1.0
**更新日期**: 2026-01-20
**项目类型**: PWA 儿童教育应用

---

## 1. 项目概述

### 1.1 项目背景

「宝贝学习乐园」是一款专为5-7岁儿童设计的在线学习应用，旨在通过趣味互动的方式帮助学龄前及小学低年级儿童进行基础知识学习。应用采用 PWA 技术，可安装到设备桌面，支持离线使用。

### 1.2 产品定位

- **目标用户**: 5-7岁儿童（核心用户为6岁）
- **使用场景**: 家庭学习、亲子互动、碎片时间学习
- **核心价值**: 寓教于乐，通过游戏化学习激发儿童学习兴趣

### 1.3 设计原则

| 原则 | 说明 |
|------|------|
| 儿童友好 | 大按钮、丰富色彩、简单交互 |
| 即时反馈 | 音效、动画、奖励弹窗即时响应 |
| 安全第一 | 精选内容、无广告、隐私保护 |
| 离线可用 | PWA 缓存支持完全离线使用 |

---

## 2. 功能需求

### 2.1 核心学习模块

#### 2.1.1 探索视频 🎬

**功能描述**: 提供精选的儿童教育视频库，涵盖多个学习领域。

**功能要求**:
- 提供 30+ 精选教育视频
- 支持 6 大分类筛选：数学、英语、科普、情绪、脑力、音乐
- 视频详情展示：标题、时长、推荐理由、技能标签
- YouTube 嵌入播放（使用 nocookie 域名）
- 视频结束遮罩，防止无限推荐

**视频来源要求**:
- 仅收录权威教育频道内容
- 包括但不限于：BBC Numberblocks、Cocomelon、PBS Kids、Sesame Street、National Geographic Kids

**数据结构**:
```javascript
{
  id: string,           // 唯一标识
  title: string,        // 视频标题
  youtubeId: string,    // YouTube 视频 ID
  duration: string,     // 时长（如 "5:30"）
  category: string,     // 分类
  ageRange: string,     // 适合年龄
  skills: string[],     // 培养技能
  reason: string,       // 推荐理由
  parentTips: string    // 家长建议
}
```

#### 2.1.2 数学游戏 🔢

**功能描述**: 10以内加减法互动练习。

**功能要求**:
- 随机生成加减法题目
- 4选1选择题模式
- 正确/错误即时反馈（视觉+音效）
- 连续答对奖励机制

**题目规则**:
- 加法：两个加数范围 1-10，结果不超过 14
- 减法：被减数 2-10，结果为正数
- 干扰项为随机生成的相近数值

**奖励规则**:
| 条件 | 奖励积分 |
|------|---------|
| 答对1题 | 10分 |
| 连续答对5题 | 额外20分 |
| 连续答对10题 | 额外30分 |

#### 2.1.3 英语学习 🔤

**功能描述**: 26个常用英文单词学习与测试。

**功能要求**:
- 展示单词、图片、中文释义
- 发音功能（Web Speech API）
- 4选1含义选择测试
- 答对奖励15分

**单词库**:
- 覆盖 A-Z 字母开头的常用词
- 包含：Apple、Banana、Cat、Dog... Zebra
- 每个单词配有对应 Emoji 图片

#### 2.1.4 中文学习 📝

**功能描述**: 20个基础汉字认读学习。

**功能要求**:
- 大字展示 + 拼音标注
- 4选1含义选择测试
- 答对奖励15分

**汉字库**:
- 基础常用字：大、小、人、山、水、火、日、月等
- 每个汉字配有拼音和含义选项

#### 2.1.5 倒计时功能 ⏰

**功能描述**: 学习时间管理工具。

**功能要求**:
- 预设时间：3/5/10/15分钟
- 圆形进度环动画显示
- 动态 Emoji 表情（随剩余时间变化）
- 暂停/继续/停止控制
- 最后10秒滴答提示音
- 时间到震动提示 + 弹窗庆祝

### 2.2 个人中心模块

#### 2.2.1 个人信息 👤

**功能描述**: 管理儿童个人资料。

**功能要求**:
- 头像管理：支持拍照或从相册选择
- 头像压缩：自动压缩到 300px 以下
- 基本信息：名字（≤20字符）、年龄（1-12岁）、生日
- 兴趣选择：12个标签多选

**兴趣标签**:
画画、唱歌、跳舞、运动、看书、积木、恐龙、动物、汽车、公主、太空、美食

#### 2.2.2 日历模块 📅

**功能描述**: 课程与活动日历管理。

**功能要求**:
- 完整月视图日历展示
- 事件类型：课外班📚、出去玩🎡、放假🏖️、学习📖
- 课程类型：钢琴🎹、画画🎨、游泳🏊、舞蹈💃、英语🔤、数学🔢、运动⚽、其他📝
- 课程时间设置（起止时间）
- 每周重复功能（自动复制到未来12周）
- 备注输入

**心情记录功能**:
- 已完成课程可记录心情
- 5种心情：😊开心、😐一般、😢难过、😫好累、🤩超棒
- 感受日记（自由文字记录）

**统计显示**:
- 本月课程数
- 出去玩次数
- 假期天数

#### 2.2.3 数据管理 📦

**功能描述**: 数据备份与恢复功能，允许用户导出/导入本地数据。

**功能要求**:
- 导出功能：将所有本地数据打包为 JSON 文件下载
- 导入功能：从 JSON 文件恢复数据
- 导入前确认弹窗提示用户数据将被覆盖
- 文件格式验证，防止导入无效文件

**导出数据范围**:
| 数据键 | 说明 |
|--------|------|
| kidsProfileData | 个人资料（名字、年龄、生日、兴趣、头像） |
| kidsLearningData | 学习数据（积分、答题记录） |
| kidsCalendarData | 日历数据（事件、心情记录） |

**导出数据格式**:
```javascript
{
  version: "1.0",
  exportTime: "2026-01-20T12:00:00.000Z",
  data: {
    profile: { ... },
    learning: { ... },
    calendar: { ... }
  }
}
```

**文件命名**: `宝贝学习乐园_备份_YYYYMMDD.json`

**使用场景**:
- 更换设备时迁移数据
- 定期备份重要学习记录
- 多设备间同步数据

### 2.3 奖励系统 🏆

**功能描述**: 游戏化激励机制。

**积分规则**:
| 行为 | 积分 |
|------|------|
| 数学答对 | 10分 |
| 数学连续5题 | 额外20分 |
| 数学连续10题 | 额外30分 |
| 英语答对 | 15分 |
| 中文答对 | 15分 |
| 记录心情 | 5分 |

**进度系统**:
- 每个任务计为1次完成
- 完成10个任务解锁"奖励视频"
- 实时进度条显示（0-100%）

**视觉反馈**:
- 奖励弹窗（⭐⭐⭐ + 得分显示）
- 粒子效果：30个随机 Emoji 飘落
- 烟火效果：50个 ✨ 飘落

---

## 3. 非功能需求

### 3.1 性能要求

| 指标 | 要求 |
|------|------|
| 首屏加载 | ≤ 3秒（3G网络） |
| 交互响应 | ≤ 100ms |
| 动画帧率 | ≥ 30fps |
| 离线可用 | Service Worker 缓存 |

### 3.2 兼容性要求

**浏览器支持**:
- Chrome 80+
- Safari 14+
- Firefox 75+
- Edge 80+

**设备支持**:
- iOS 13+
- Android 8+
- 桌面端 Windows/macOS

**屏幕适配**:
- 最小宽度：320px
- 最大宽度：768px（移动端优化）
- 支持横竖屏

### 3.3 安全要求

| 要求 | 实现方式 |
|------|---------|
| 内容安全 | 人工审核精选视频 |
| 隐私保护 | 数据仅存储本地 |
| 无追踪 | 不使用第三方分析 |
| 无广告 | 纯净学习环境 |

### 3.4 可用性要求

- 大按钮设计：最小点击区域 44x44px
- 高对比度配色
- 简单操作流程（最多3步完成任务）
- 鼓励性语言和即时反馈

---

## 4. 技术架构

### 4.1 技术栈

| 层级 | 技术选型 |
|------|---------|
| 标记语言 | HTML5 |
| 样式 | CSS3（变量、动画、Flexbox/Grid） |
| 脚本 | Vanilla JavaScript（ES6+） |
| 离线支持 | Service Worker |
| 应用化 | PWA (manifest.json) |

### 4.2 核心 API 使用

| API | 用途 |
|-----|------|
| Web Audio API | 生成音效（无需音频文件） |
| Web Speech API | 英文单词发音 |
| Canvas API | 头像图片压缩 |
| FileReader API | 图片上传处理 |
| Vibration API | 设备震动反馈 |
| localStorage | 数据持久化 |

### 4.3 文件结构

```
kids-learning-app/
├── index.html              # 主页面
├── manifest.json           # PWA 配置
├── sw.js                   # Service Worker
├── css/
│   └── style.css           # 样式和动画
├── js/
│   ├── app.js              # 核心应用逻辑
│   ├── rewards.js          # 奖励系统和日历
│   └── videos.js           # 视频数据库
├── data/
│   └── videos.json         # 视频元数据
└── icons/
    └── icon-192.svg        # PWA 图标
```

---

## 5. 数据模型

### 5.1 学习数据 (kidsLearningData)

```javascript
{
  totalScore: number,      // 总积分
  tasksDone: number,       // 完成任务数
  mathCorrect: number,     // 数学答对数
  mathStreak: number,      // 数学连续答对数
  englishCorrect: number,  // 英语答对数
  chineseCorrect: number   // 中文答对数
}
```

### 5.2 个人资料 (kidsProfileData)

```javascript
{
  name: string,            // 名字
  age: number,             // 年龄
  birthday: string,        // 生日 (YYYY-MM-DD)
  hobbies: string[],       // 兴趣爱好
  avatar: string           // 头像 (Base64)
}
```

### 5.3 日历数据 (kidsCalendarData)

```javascript
{
  "YYYY-MM-DD": [{
    type: string,          // 事件类型
    name: string,          // 事件名称
    time: string,          // 时间
    courseType: string,    // 课程类型
    repeat: boolean,       // 每周重复
    mood: string,          // 心情
    feeling: string        // 感受
  }]
}
```

---

## 6. 页面结构

### 6.1 页面列表

| 页面ID | 名称 | 访问方式 |
|--------|------|---------|
| page-home | 首页 | 底部导航 |
| page-explore | 探索视频 | 底部导航 |
| page-math | 数学游戏 | 底部导航 |
| page-english | 英语学习 | 底部导航 |
| page-chinese | 中文学习 | 底部导航 |
| page-timer | 倒计时 | 首页菜单 |
| page-profile | 个人信息 | 首页菜单 |
| page-calendar | 日历 | 底部导航 |

### 6.2 弹窗列表

| 弹窗ID | 名称 | 触发条件 |
|--------|------|---------|
| reward-popup | 奖励弹窗 | 答题正确 |
| video-modal | 视频播放 | 点击视频 |
| video-detail-modal | 视频详情 | 点击视频卡片 |
| add-event-modal | 添加事件 | 日历添加按钮 |
| event-detail-modal | 事件详情 | 点击日历事件 |
| timer-finish-modal | 时间到 | 倒计时结束 |
| photo-options-modal | 照片选项 | 点击头像 |
| import-confirm-modal | 导入确认 | 点击导入数据 |

---

## 7. 音效系统

### 7.1 音效列表

| 音效名称 | 触发场景 | 特征 |
|---------|---------|------|
| reward | 获得奖励 | 上升三音节庆祝音 |
| correct | 答题正确 | 高频简单音 |
| wrong | 答题错误 | 低频错误音 |
| click | 按钮点击 | 快速高频点击音 |
| tick | 倒计时 | 滴答音 |
| complete | 任务完成 | 四音节庆祝音 |

### 7.2 实现方式

使用 Web Audio API 实时生成，无需加载音频文件：
- 减少应用体积
- 加快加载速度
- 支持离线使用

---

## 8. 动画规范

### 8.1 页面切换
- 效果：淡入淡出 + 向上滑入
- 时长：300ms
- 曲线：ease-out

### 8.2 奖励效果
- 弹窗：缩放动画（0.5 → 1）
- 粒子：30个 Emoji 随机飘落
- 时长：2000ms

### 8.3 交互反馈
- 按钮按下：缩小至 0.95
- 选项选中：边框高亮 + 背景变色
- 进度条：宽度平滑过渡

---

## 9. 未来规划

### 9.1 用户粘性提升

#### 9.1.1 成就系统 🏅

**功能描述**: 通过徽章收集和等级称号激励持续学习。

**功能要求**:
- 徽章收集：完成特定任务解锁徽章
- 等级称号：学习小能手 → 知识小达人 → 学霸宝贝
- 成就展示墙：个人中心展示已获得成就

**徽章类型**:
| 徽章 | 解锁条件 |
|------|---------|
| 🌟 初学者 | 完成第一次答题 |
| 🔢 数学新星 | 数学答对 50 题 |
| 🔤 英语达人 | 英语答对 50 题 |
| 📝 汉字小能手 | 中文答对 50 题 |
| 🔥 连胜王者 | 连续答对 20 题 |
| 📅 坚持不懈 | 连续签到 7 天 |
| 🎬 视频达人 | 观看 20 个视频 |
| 💯 满分选手 | 单次答题全对 10 题 |

#### 9.1.2 每日签到 📆

**功能描述**: 培养每日学习习惯。

**功能要求**:
- 每日首次打开应用自动签到
- 连续签到奖励递增
- 签到日历展示

**奖励规则**:
| 连续天数 | 奖励 |
|---------|------|
| 1天 | 5分 |
| 3天 | 15分 |
| 7天 | 50分 + 特殊徽章 |
| 30天 | 200分 + 稀有徽章 |

#### 9.1.3 学习目标设定 🎯

**功能描述**: 家长可设定每日/每周学习目标。

**功能要求**:
- 设定每日学习时长目标（5/10/15/20分钟）
- 设定每周答题数量目标
- 目标完成进度可视化
- 达成目标时庆祝动画

---

### 9.2 内容生态扩展

#### 9.2.1 绘本阅读模块 📖

**功能描述**: 互动有声绘本，支持点读功能。

**功能要求**:
- 精选儿童绘本内容
- 点击图片/文字播放对应音频
- 支持自动翻页和手动翻页
- 阅读进度记录

#### 9.2.2 故事电台 📻

**功能描述**: 睡前故事音频播放。

**功能要求**:
- 精选睡前故事音频
- 定时关闭功能（15/30/45分钟）
- 播放列表管理
- 后台播放支持

#### 9.2.3 创意涂鸦 🎨

**功能描述**: 简单画板功能，激发创意。

**功能要求**:
- 基础画笔工具（颜色、粗细）
- 橡皮擦和撤销功能
- 作品保存到相册
- 预设涂色模板

---

### 9.3 游戏化学习增强

#### 9.3.1 学习宠物系统 🐣

**功能描述**: 虚拟宠物陪伴学习，通过学习喂养成长。

**功能要求**:
- 初始宠物选择（小猫/小狗/小兔/小熊）
- 学习获得食物/道具喂养宠物
- 宠物成长阶段（蛋 → 幼年 → 成年）
- 宠物装扮系统

**成长规则**:
| 行为 | 宠物经验值 |
|------|-----------|
| 完成答题 | +5 |
| 观看视频 | +3 |
| 连续签到 | +10 |
| 获得徽章 | +20 |

#### 9.3.2 知识拼图 🧩

**功能描述**: 完成学习任务解锁拼图碎片。

**功能要求**:
- 多套精美拼图主题（动物、太空、海洋等）
- 每完成一个任务解锁一块碎片
- 完成整幅拼图获得特殊奖励
- 拼图收藏展示

#### 9.3.3 冒险地图模式 🗺️

**功能描述**: 学习进度可视化为探险地图。

**功能要求**:
- 卡通风格冒险地图
- 每个关卡对应学习任务
- 解锁新区域动画效果
- Boss 关卡（综合测试）

---

### 9.4 认知能力训练

#### 9.4.1 记忆训练游戏 🧠

**功能描述**: 多种记忆力训练游戏。

**游戏类型**:
| 游戏 | 说明 |
|------|------|
| 翻牌配对 | 找出相同的图案配对 |
| 顺序记忆 | 记住并重现亮灯顺序 |
| 图片记忆 | 短暂展示后回忆细节 |
| 听音记词 | 听到单词后选择对应图片 |

#### 9.4.2 注意力训练 👀

**功能描述**: 提升专注力的趣味游戏。

**游戏类型**:
- 找不同：两幅图片找出差异
- 连连看：相同图案连线消除
- 舒尔特方格：按顺序点击数字

#### 9.4.3 逻辑思维训练 🔮

**功能描述**: 培养逻辑推理能力。

**游戏类型**:
- 图形规律：找出下一个图形
- 排序游戏：按大小/数量/时间排序
- 简单推理：根据线索找答案

---

### 9.5 学习闭环优化

#### 9.5.1 错题本 📕

**功能描述**: 自动收集错题，智能复习。

**功能要求**:
- 自动记录答错的题目
- 按学科分类展示
- 一键复习错题
- 掌握后移出错题本

#### 9.5.2 艾宾浩斯复习 📈

**功能描述**: 基于遗忘曲线智能安排复习。

**功能要求**:
- 记录每个知识点学习时间
- 按遗忘曲线推送复习提醒
- 复习间隔：1天 → 3天 → 7天 → 15天 → 30天
- 复习完成标记

#### 9.5.3 知识图谱 🕸️

**功能描述**: 可视化展示学习内容关联。

**功能要求**:
- 树状/网状知识结构展示
- 已掌握内容高亮显示
- 点击节点进入对应学习内容
- 学习路径推荐

---

### 9.6 多感官学习

#### 9.6.1 跟读评分 🎤

**功能描述**: 语音识别评估发音准确度。

**功能要求**:
- 使用 Web Speech API 进行语音识别
- 发音准确度评分（1-5星）
- 支持单词和简单句子
- 示范发音对比

#### 9.6.2 节奏感训练 🥁

**功能描述**: 跟着音乐节拍进行互动。

**功能要求**:
- 节拍点击游戏
- 多种音乐风格
- 准确度评分
- 难度递进

#### 9.6.3 手指操练习 👆

**功能描述**: 配合儿歌的手指动作学习。

**功能要求**:
- 经典手指操视频
- 分步骤教学
- 配合儿歌音乐
- 亲子互动模式

---

### 9.7 家长功能

#### 9.7.1 家长管理后台 👨‍👩‍👧

**功能描述**: 家长专属管理界面。

**功能要求**:
- 密码/手势保护进入
- 学习时长限制设置
- 内容过滤设置
- 学习提醒设置

#### 9.7.2 学习报告生成 📊

**功能描述**: 可视化学习数据报告。

**报告内容**:
- 周/月学习时长统计
- 各学科答题正确率
- 学习进步曲线
- 强项/弱项分析
- 学习建议推荐

#### 9.7.3 亲子互动模式 👨‍👩‍👧‍👦

**功能描述**: 家长与孩子一起PK答题。

**功能要求**:
- 双人同屏答题
- 分数对比展示
- 互动音效和动画
- 亲子时光记录

---

### 9.8 技术升级

#### 9.8.1 云端数据同步 ☁️

**同步方案**:
| 方案 | 说明 | 优先级 |
|------|------|--------|
| WebDAV | 支持坚果云等，无需后端 | P1 |
| 微信云开发 | 小程序版本使用 | P2 |
| 自建后端 | 完整账号体系 | P3 |

#### 9.8.2 AI 自适应学习路径 🤖

**功能描述**: 基于学习数据智能推荐内容。

**功能要求**:
- 分析答题正确率和速度
- 动态调整题目难度
- 个性化学习路径推荐
- 薄弱知识点强化

#### 9.8.3 跨平台能力 📱

**扩展计划**:
- [ ] 微信小程序版本
- [ ] 学习成绩分享到微信/朋友圈
- [ ] Web通知推送提醒
- [ ] 离线学习包下载

---

### 9.9 创新功能

#### 9.9.1 AR认知卡片 📷

**功能描述**: 扫描实物学习对应单词。

**功能要求**:
- 摄像头识别常见物品
- 显示对应英文/中文
- 发音功能
- 收集卡片成就

#### 9.9.2 节日主题活动 🎉

**功能描述**: 节日限定内容和皮肤。

**活动类型**:
| 节日 | 内容 |
|------|------|
| 春节 | 年俗知识、红包雨小游戏 |
| 中秋 | 月亮知识、灯笼DIY |
| 儿童节 | 限定徽章、双倍积分 |
| 圣诞节 | 圣诞主题皮肤 |

#### 9.9.3 学习打卡社区 👥

**功能描述**: 家长社区分享学习成果。

**功能要求**:
- 生成学习成果海报图片
- 一键分享到社交平台
- 隐私保护（不显示真实姓名/照片）
- 点赞互动

---

### 9.10 优先级规划

| 优先级 | 功能模块 | 预期效果 |
|--------|---------|---------|
| ⭐⭐⭐ P0 | 成就系统+徽章收集 | 提升用户粘性 |
| ⭐⭐⭐ P0 | 错题本+复习机制 | 提升学习效果 |
| ⭐⭐⭐ P0 | 每日签到 | 培养学习习惯 |
| ⭐⭐ P1 | 记忆训练游戏 | 扩展学习维度 |
| ⭐⭐ P1 | 学习宠物系统 | 增强情感连接 |
| ⭐⭐ P1 | 学习报告生成 | 满足家长需求 |
| ⭐ P2 | 绘本阅读模块 | 内容生态扩展 |
| ⭐ P2 | 跟读评分 | 多感官学习 |
| ⭐ P2 | 云端同步(WebDAV) | 数据安全 |
| P3 | AR认知卡片 | 创新体验 |
| P3 | 小程序版本 | 渠道扩展 |

---

## 10. 附录

### 10.1 视频分类说明

| 分类 | 说明 | 示例频道 |
|------|------|---------|
| 数学 | 数字认知、计算 | BBC Numberblocks |
| 英语 | 单词、歌曲 | Cocomelon, Super Simple Songs |
| 科普 | 自然、科学 | National Geographic Kids |
| 情绪 | 社交情感 | Sesame Street |
| 脑力 | 逻辑思维 | PBS Kids |
| 音乐 | 儿歌律动 | Pinkfong |

### 10.2 设计资源

- 配色方案：渐变色彩（紫色系 → 橙色系）
- 字体：系统默认无衬线字体
- 图标：Emoji 表情符号
- 动画：CSS3 关键帧动画

---

**文档结束**
